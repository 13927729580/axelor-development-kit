<?xml version="1.0" encoding="UTF-8"?>
<domain-models xmlns="http://apps.axelor.com/xml/ns/domain-models"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://apps.axelor.com/xml/ns/domain-models http://apps.axelor.com/xml/ns/domain-models/domain-models_0.8.xsd">

  <module name="meta" package="com.axelor.meta.db" />
  
  <entity name="MetaView" table="META_VIEW" sequential="true">
  	<boolean name="active" default="true"/>
  	<string name="name" unique="true" required="true"/>
	<string name="title" required="true" namecolumn="true"/>
  	<string name="type" required="true"/>
  	<string name="model"/>
  	<string name="xml" required="true" large="true"/>
  	<many-to-many name="groups" ref="com.axelor.auth.db.Group"/>
  </entity>
  
  <entity name="MetaMenu" table="META_MENU" sequential="true">
  	<integer name="priority"/>
  	<string name="name" unique="true" required="true"/>
  	<string name="title" required="true" namecolumn="true"/>
  	<string name="icon"/>
  	<many-to-one name="parent" ref="MetaMenu"/>
  	<many-to-one name="action" ref="MetaAction"/>
  	<many-to-many name="groups" ref="com.axelor.auth.db.Group"/>
  </entity>
  
  <entity name="MetaActionMenu" table="META_ACTION_MENU">
  	<string name="name" unique="true" required="true"/>
  	<string name="title" required="true" namecolumn="true"/>
    <string name="category" help="Category name to group action menus."/>
  	<many-to-one name="parent" ref="MetaActionMenu"/>
  	<many-to-one name="action" ref="MetaAction"/>
  </entity>
   
  <entity name="MetaAction" table="META_ACTION" sequential="true">
  	<string name="name" unique="true" required="true"/>
  	<string name="xml" required="true" large="true"/>
  </entity>
  
  <entity name="MetaSelect" table="META_SELECT">
  	<string name="key" required="true"/>
  	<string name="value" required="true"/>
  	<string name="title" required="true" namecolumn="true"/>
  	<unique-constraint columns="key,value"/>
  </entity>
  
    <entity name="MetaModel" sequential="true" lang="java">
    
    <string name="name" title="Name" required="true"/>
    <string name="packageName" title="Package" required="true"/>
    <string name="tableName" title="Table" />
    <one-to-many name="metaFields" ref="MetaField" mappedBy="metaModel" title="Fields" />
    
    <string name="fullName" title="Fullname" />
    
  </entity>

  <entity name="MetaField" sequential="true" lang="java">
    
    <many-to-one name="metaModel" ref="MetaModel" />
    <string name="name" title="Name" required="true"/>
    <string name="packageName" title="Package" />
    <string name="typeName" title="Type"  required="true"/>
    <string name="label" title="Label" />
    <string name="relationship" title="Relationship" selection="relationship.field.selection"/>
    <string name="mappedBy" title="Mapped by" />
    <string name="description" title="Description" large="true" />
     
  </entity>

</domain-models>
